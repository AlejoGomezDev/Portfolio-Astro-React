---
import SkillCard from "../atoms/SkillCard.astro";
const { category, items } = Astro.props;

interface Skill {
  name: string;
  icon: string;
  alt: string;
}

interface SkillGroup {
  type:string
  skills: Skill[];
}

interface SingleSkill {
  name: string;
  icon: string;
  alt: string;
}

type Item = SkillGroup | SingleSkill;
---

<fieldset class="text-center text-white w-2/3 m-auto border-1 rounded-xl mb-8">
  <legend class="text-3xl text-left ml-3 px-5">{category}</legend>
  <div id="category-container" class="flex flex-wrap p-4 gap-4">
    {
      items.map((item: Item) => {
        if ("skills" in item) {
          return (
            <fieldset class="w-full flex flex-col border-1 rounded-xl mx-4 ">
              <legend class="text-2xl text-left px-3 ml-2">{item.type}</legend>
              <div class="flex flex-wrap gap-4 px-4 pb-4">
                {
                  item.skills.map((skill: Skill) => (
                    <SkillCard skill={skill}/>
                  ))
                }
              </div>
            </fieldset>
          );
        } else {
          return (
            <SkillCard skill={item}/>
          );
        }
      })
    }
  </div>
 
</fieldset>
